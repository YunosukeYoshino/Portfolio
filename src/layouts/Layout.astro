---
import { SEO, Props as AstroSeoProps } from "astro-seo";
import Header from "../components/Header.astro";
import LocalScripts from "../components/LocalScripts.astro";

export type Props = AstroSeoProps & {
  title: string;
  description: string;
};

import "destyle.css";
import "src/assets/scss/style.scss";
import "src/assets/css/app.css";
const { title, description, ...seoProps }: Props = Astro.props;
---

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="email=no,telephone=no,address=no" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={description} />
    <!-- アイコン画像の指定 -->
    <link rel="icon" type="image/png" href="/assets/icons/icon-72x72.png" sizes="72x72" />
    <link rel="icon" type="image/png" href="/assets/icons/icon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/assets/icons/icon-128x128.png" sizes="128x128" />
    <link rel="manifest" href="/manifest.json" />
    <title>{title}</title>
    <SEO {...seoProps} />
    <LocalScripts />
    <script
      type="text/javascript"
      src="//typesquare.com/3/tsst/script/ja/typesquare.js?641200e6ba2c4c9ea7f95bf7ac1e02e5"
      charset="utf-8"
    ></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XRP8GWXT3P"></script>
    <script lang="js">
      /* eslint-disable no-undef */
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-XRP8GWXT3P");
    </script>
  </head>
  <body>
    <canvas id="gradient-canvas" data-transition-in></canvas>
    <div class="p-loader">
      <div class="p-loader__circle"></div>
    </div>

    <div class="p-wrapper">
      <Header />
      <main class="l-main js-main">
        <slot />
      </main>
    </div>
    <script>
      import { Gradient } from "../library/Gradient";

      document.addEventListener("DOMContentLoaded", () => {
        // Create your instance
        const gradient = new Gradient();
        // Call `initGradient` with the selector to your canvas
        gradient.initGradient("#gradient-canvas");
      });

      const loadingElement = document.querySelector(".p-loader") as HTMLElement;
    </script>
  </body>
</html>
