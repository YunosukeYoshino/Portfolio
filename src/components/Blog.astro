---
//microCMS呼び出し
import { getBlogs } from "../library/microcms";
const limit: number = Astro.props.limit; //limit数
const response = await getBlogs({ fields: ["id", "title", "eyecatch", "publishedAt", "author"], limit });
---

<ul>
  {
    response.contents.map((content: any) => (
      <li>
        <a href={content.id}>
          <p class="publishedAt">{new Date(content.publishedAt).toLocaleDateString("ja-JP").replace(/\//g, ".")}</p>
          <p class="author">Author：{content.author}</p>
          {content.title}
          <img
            src={content.eyecatch.url}
            width={content.eyecatch.width}
            height={content.eyecatch.heigth}
            alt={content.eyecatch.alt}
            decoding="async"
          />
        </a>
      </li>
    ))
  }
</ul>

<style>
  main {
    max-width: 60ch;
    padding: 1em;
    margin: auto;
  }
</style>
